{% extends "_layout" %}

{% block title %}Visitor Application | {{ super() }}{% endblock %}

{% block body %}

<h2>Visitor Application</h2>

{% if controller.home_facility == 'ZDV' %}
  <h3 class="mt-3 mb-2">You are a home controller</h3>
{% elif is_visiting %}
  <h3 class="mt-3 mb-2">You are already visiting</h3>
{% else %}
  <h4 class="mt-3 mb-2">Thank you for your interest!</h4>

  <p>
    VATSIM and VATUSA both lay out the requirements for visiting controllers. You can find those requirements
    <a class="text-decoration-none" href="https://vatsim.net/docs/policy/transfer-and-visiting-controller-policy" target="_blank">here for VATSIM</a> and
    <a class="text-decoration-none" href="https://www.vatusa.net/info/policies" target="_blank">here for VATUSA (look for "DP001")</a>.
  </p>

  <a class="text-decoration-none" href="#" hx-get="/facility/visitor_application/form" hx-swap="outerHTML">
    If you believe you meet those requirements, click here to load the form.
    <div class="htmx-indicator pt-2 ps-1">
      <svg
        width="38"
        height="38"
        viewBox="0 0 38 38"
        xmlns="http://www.w3.org/2000/svg"
        stroke="#fff"
      >
        <g fill="none" fill-rule="evenodd">
          <g transform="translate(1 1)" stroke-width="2">
            <circle stroke-opacity=".5" cx="18" cy="18" r="18" />
            <path d="M36 18c0-9.94-8.06-18-18-18">
              <animateTransform
                attributeName="transform"
                type="rotate"
                from="0 18 18"
                to="360 18 18"
                dur="1s"
                repeatCount="indefinite"
              />
            </path>
          </g>
        </g>
      </svg>
    </div>
  </a>
{% endif %}

{% endblock %}
