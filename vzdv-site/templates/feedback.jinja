{% extends "_layout" %}

{% block title %}Feedback | {{ super() }}{% endblock %}

{% block body %}

<h2>Submit controller feedback</h2>

{% if not user_info or not user_info.cid %}
<h5>You must be <a href="/auth/log_in">logged in</a> to submit feedback</h5>
{% else %}
<form action="/feedback" method="POST">
  <div class="row mb-2">
    <div class="col">
      <div class="mb-3">
        <label for="controller">Controller</label>
        <select id="controller" name="controller" class="form-select" required>
          <option disabled>Controller</option>
          {% for (cid, name) in all_controllers %}
            <option value="{{ cid }}">{{ name }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="mb-3">
        <label for="position">Position</label>
        <input type="text" class="form-control" id="position" name="position" required>
      </div>
      <div class="mb-3">
        <label for="rating">Rating</label>
        <select name="rating" id="rating" class="form-control" required>
          <option disabled>Rating</option>
          <option value="excellent">Excellent</option>
          <option value="good">Good</option>
          <option value="fair">Fair</option>
          <option value="poor">Poor</option>
        </select>
      </div>
    </div>
    <div class="col-8">
      <label for="comments">Comments</label>
      <textarea name="comments" id="comments" class="form-control" style="height: 60%"></textarea>
    </div>
  </div>
  <button type="submit" class="btn btn-success">
    <i class="bi bi-floppy2-fill"></i>
    Submit
  </button>
</form>
{% endif %}

{% endblock %}
